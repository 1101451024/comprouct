(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83d161fa"],{"195e":function(e,t,i){"use strict";var l=i("2d4e"),s=i.n(l);s.a},"1b88":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pages"},[e.hasProject?i("div",{staticClass:"contain"},[i("div",{staticClass:"weui-cells mar_top0"},[e.isTip?i("div",{staticClass:"weui-cell"},[i("p",{staticClass:"headTip"},[e._v("为方便后续操作，请先至少关联一套房屋。")])]):e._e(),e.proShow?i("div",{staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getProject}},[e._m(0),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.cityVal,expression:"cityVal"}],staticClass:"weui-input",attrs:{id:"owner_city",name:"city",type:"text",placeholder:"请选择",readonly:"readonly",unselectable:"on",onfocus:"this.blur()"},domProps:{value:e.cityVal},on:{input:function(t){t.target.composing||(e.cityVal=t.target.value)}}})]),i("div",{staticClass:"weui-cell__ft"})]):e._e(),e.proShow?i("div",{staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getBuilding}},[e._m(1),i("div",{staticClass:"weui-cell__bd"},[i("p",[e._v(e._s(e.proVal))])]),i("div",{staticClass:"weui-cell__ft"},[e.isCheck?i("span",{staticClass:"isCheck"},[e._v("请选择")]):e._e()])]):e._e(),i("div",{staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getRoom}},[e._m(2),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.buildVal,expression:"buildVal"}],staticClass:"weui-input",attrs:{name:"build",type:"text",placeholder:"请选择",unselectable:"on",onfocus:"this.blur()"},domProps:{value:e.buildVal},on:{input:function(t){t.target.composing||(e.buildVal=t.target.value)}}})]),i("div",{staticClass:"weui-cell__ft"})]),e.floorShow?i("div",{staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getFloor}},[e._m(3),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.floorVal,expression:"floorVal"}],staticClass:"weui-input",attrs:{name:"room",type:"text",placeholder:"请选择",unselectable:"on",onfocus:"this.blur()"},domProps:{value:e.floorVal},on:{input:function(t){t.target.composing||(e.floorVal=t.target.value)}}})]),i("div",{staticClass:"weui-cell__ft"})]):e._e(),i("div",{staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getLast}},[e._m(4),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.roomVal,expression:"roomVal"}],staticClass:"weui-input",attrs:{name:"room",type:"text",placeholder:"请选择",unselectable:"on",onfocus:"this.blur()"},domProps:{value:e.roomVal},on:{input:function(t){t.target.composing||(e.roomVal=t.target.value)}}})]),i("div",{staticClass:"weui-cell__ft"})]),e.hasName?i("div",{staticClass:"weui-cell ly-cell"},[e._m(5),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"weui-input",attrs:{id:"usename",type:"text",required:"",name:"username",placeholder:"请输入"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])]):e._e()]),e._m(6),i("div",{staticClass:"weui-btn-area"},[i("button",{staticClass:"weui-btn ly-btn_defalut",on:{click:e.okBtn}},[e._v("确  定")])])]):e._e(),i("transition",{attrs:{name:"slideRight",appear:""}},[i("router-view",{ref:"proChild",staticStyle:{"animation-duration":"0.3s"},attrs:{sendata:e.projectList},on:{getProData:e.getProVal}})],1)],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label",attrs:{for:"owner_city"}},[e._v("城市")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("项目")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("楼栋")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("楼层")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("房号")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("姓名")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cells"},[i("div",{staticClass:"retionTip"},[i("p",[e._v("说明：")]),i("p",[e._v("1.关联仅为方便操作，不代表您拥有该房产业主权利，收到投诉/报修后我们将根据实现情况核实处理。")]),i("p",[e._v("2.如果您是二手业主，请先使用一手业主的姓名进行报修，稍后在咨询投诉中提交变更申请，并上传新房产证以便核实。")])])])}],a=i("f499"),o=i.n(a),r=i("d722"),c={data:function(){return{cityData:[],cityVal:"",proVal:"",buildVal:"",roomVal:"",username:"",floorVal:"",buildObj:{},projectList:[],buildList:[],floorList:[],roomList:[],value:"",floorShow:!0,isCheck:!0,hasName:!0,roomGuid:"",hasProject:!1,type:"",proShow:!0,isTip:!0,nums:1}},created:function(){var e=this;if(this.type=this.$route.params.type,console.log(this.type),this.$weui.loading(),"{}"!==o()(this.$store.state.roomId)&&(this.isTip=!1),"repair"===this.type||"complaint"===this.type)this.proShow=!0,Object(r["u"])().then(function(t){e.$weui.loading().hide(),0===t.code?(e.hasProject=!0,e.cityData=t.result[0].children,console.log(e.cityData)):e.$weui.alert(t.msg)});else if("prorepair"===this.type||"proplaint"===this.type){this.proShow=!1;var t={relation_guid:this.$store.state.relationId};Object(r["O"])(t).then(function(t){e.$weui.loading().hide(),0===t.code?(e.hasProject=!0,e.buildList=t.result.room_list,e.hasName=t.result.is_verify_owner):e.$weui.alert(t.msg)})}},methods:{getProject:function(e){var t=this;this.$weui.picker(this.cityData,{depth:1,id:"cityPicker",onConfirm:function(e){t.projectList=e[0].children,t.cityVal=e[0].label,t.proVal="",t.buildVal="",t.roomVal="",t.username="",t.floorVal=""}})},getBuilding:function(){0===this.projectList.length?this.$weui.alert("请选择城市"):this.$router.push({name:"ProjectList"})},getProVal:function(e){var t=this;this.proVal=e.label,this.buildVal="",this.roomVal="",this.username="",this.floorVal="",this.isCheck=!1,this.RoomObj={};var i={project_guid:e.value},l=this.$weui.loading();Object(r["z"])(i).then(function(e){l.hide(),0===e.code?(t.buildObj={},t.buildObj=e.result,console.log(t.buildObj)):t.$weui.alert(e.msg),t.$router.go(-1)})},getRoom:function(){var e=this;console.log(this.buildObj),"repair"===this.type||"complaint"===this.type?"{}"===o()(this.buildObj)?this.$weui.alert("请选择项目"):(this.buildList=this.buildObj.room_list,this.hasName=this.buildObj.is_verify_owner,this.buildList.length>0?this.$weui.picker(this.buildList,{depth:1,id:"buildPicker",onConfirm:function(t){e.floorList=[],e.floorList=t[0].children,"floor"!=e.floorList[0].type?(e.roomList=e.floorList,e.floorShow=!1):e.floorShow=!0,e.buildVal=t[0].label,e.roomVal="",e.floorVal=""}}):this.$weui.alert("该项目暂无楼栋信息，请重新选择项目")):"prorepair"!==this.type&&"proplaint"!==this.type||(this.buildList.length>0?this.$weui.picker(this.buildList,{depth:1,id:"buildPicker",onConfirm:function(t){e.floorList=[],e.floorList=t[0].children,"floor"!=e.floorList[0].type?(e.roomList=e.floorList,e.floorShow=!1):e.floorShow=!0,e.buildVal=t[0].label,e.roomVal="",e.floorVal=""}}):this.$weui.alert("该物业暂无楼信息",{buttons:[{label:"确定",type:"primary",onClick:function(){e.$router.go(-1)}}]}))},getFloor:function(){var e=this;this.roomList=[],this.floorList.length>0?this.$weui.picker(this.floorList,{depth:1,id:"floorPicker",onConfirm:function(t){e.roomList=[],e.roomList=t[0].children,e.floorVal=t[0].label,e.roomVal=""}}):this.$weui.alert("请选择楼栋")},getLast:function(){var e=this;this.roomList.length>0?this.$weui.picker(this.roomList,{depth:1,id:"roomPicker",onConfirm:function(t){e.roomGuid=t[0].value,e.roomVal=t[0].label}}):this.$weui.alert("请选择楼层")},okBtn:function(){var e=this,t=this,i={};i=!0===this.hasName?{room_guid:this.roomGuid,owner_name:this.username}:{room_guid:this.roomGuid};var l=this.$weui.loading();Object(r["w"])(i).then(function(i){l.hide(),0===i.code?"repair"===t.type||"prorepair"===t.type?(t.nums++,"prorepair"===e.type&&e.$store.commit("setpropertyId",1),t.$router.push({name:"HouseRepair",query:{type:t.type}})):t.$router.push({name:"Relate",params:{type:t.type}}):e.$weui.alert(i.msg)})}},beforeRouteLeave:function(e,t,i){1!==this.nums&&this.$store.commit("setReFresh",2),i()}},n=c,u=(i("195e"),i("2877")),d=Object(u["a"])(n,l,s,!1,null,"5a56e6a8",null);t["default"]=d.exports},"2d4e":function(e,t,i){}}]);