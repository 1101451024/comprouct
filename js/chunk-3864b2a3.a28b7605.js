(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3864b2a3","chunk-63ed3225"],{"202f":function(e,t,i){"use strict";var a=i("f53b"),s=i.n(a);s.a},"355d":function(e,t){t.f={}.propertyIsEnumerable},4455:function(e,t,i){"use strict";(function(e){i("4917"),i("a481");var a=i("025e");t["a"]={data:function(){return{imgList:[],fileList:[],uploadCount:0,Photos:[],ishidden:!0,isCount:!0,num:5}},created:function(){var e=this;this.$nextTick(function(){console.log(e.isCount),!0===e.isCount?e.num=5:e.num=8})},mounted:function(){var t=this,i="http://wkf.yiwindow.com/backend/",s=i+"server/media/upload?type=image";this.$nextTick(function(){t.$weui.uploader("#uploader",{url:s,auto:!0,type:"file",fileVal:"media",compress:{width:1600,height:1600,quality:.8},onBeforeQueued:function(e){return["image/jpg","image/jpeg","image/png","image/gif"].indexOf(this.type)<0?(t.$weui.alert("请上传图片"),!1):this.size>10485760?(t.$weui.alert("请上传不超过10M的图片"),!1):e.length>t.num?(t.$weui.alert("最多只能上传"+t.num+"张图片，请重新选择"),!1):t.uploadCount+1>t.num?(t.$weui.alert("最多只能上传"+t.num+"张图片"),!1):void++t.uploadCount},onQueued:function(){var e=this;a["a"].blobTobase(e,function(t){e.url=t})},onBeforeSend:function(i,a){e.extend(a,{Authorization:t.$store.state.Token})},onProgress:function(e){},onSuccess:function(e){t.imgList.push(this),0===e.code?t.Photos.push(e.result.fuid):t.$weui.alert(e.msg)},onError:function(e){console.log(this,e)}})})},watch:{uploadCount:function(e,t){e==this.num?this.ishidden=!1:this.ishidden=!0,console.log(e)}},methods:{handelGallery:function(e){console.log("执行了");var t=e.target,i=this;while(!t.classList.contains("weui-uploader__file")&&t)t=t.parentNode;if(t){var a=t.getAttribute("style")||"",s=t.getAttribute("data-id");a&&(a=a.match(/url\((.*?)\)/)[1].replace(/"/g,""));var l=i.$weui.gallery(a,{onDelete:function(){i.$weui.confirm("确定删除该图片？",function(){for(var e,a=0,n=i.imgList.length;a<n;a++){var o=i.imgList[a];if(o.id==s){e=a;break}}e>=0&&(console.log(e),i.Photos.splice(e,1),i.imgList.splice(e,1)),i.uploadCount--,t.remove(),l.hide()},function(){console.log("no deleted~ ~ ~ ~ ~ ~")})}})}}}}}).call(this,i("1157"))},4917:function(e,t,i){"use strict";var a=i("cb7c"),s=i("9def"),l=i("0390"),n=i("5f1b");i("214f")("match",1,function(e,t,i,o){return[function(i){var a=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,a):new RegExp(i)[t](String(a))},function(e){var t=o(i,e,this);if(t.done)return t.value;var c=a(e),r=String(this);if(!c.global)return n(c,r);var u=c.unicode;c.lastIndex=0;var d,p=[],h=0;while(null!==(d=n(c,r))){var f=String(d[0]);p[h]=f,""===f&&(c.lastIndex=l(r,s(c.lastIndex),u)),h++}return 0===h?null:p}]})},"4dac":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"describe_item"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isDescribe,expression:"!isDescribe"}],staticClass:"describe_placeholder"},[e._v(e._s(e.placeText))]),i("div",{staticClass:"describe_edit",attrs:{contenteditable:"plaintext-only"},domProps:{innerHTML:e._s(e.innerText)},on:{input:e.changeText}})])},s=[],l={data:function(){return{isDescribe:"",innerText:"",placeText:this.$parent.placetxt}},props:["placetxt"],mounted:function(){""!==this.$parent.textVal2&&(this.innerText=this.$parent.textVal2)},methods:{changeText:function(){this.isDescribe=this.$el.lastChild.innerHTML,this.$emit("edit-handler",this.$el.lastChild.innerHTML)}},watch:{value:function(e){this.innerText||(this.innerText=e)}}},n=l,o=(i("b4a6"),i("2877")),c=Object(o["a"])(n,a,s,!1,null,"0116c24e",null);t["a"]=c.exports},"4fc8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAqCAMAAAAK/cKeAAAAtFBMVEUAAAAnpfknpflPsfQnpfknpfknpfl6vu0npfl6vu16vu0npfl6vu0npfl6vu0npfknpfknpfl6vu0npfknpfknpfl6vu0npfknpfknpfknpfl6vu0npfknpfknpfknpfknpfknpfknpfl6vu0npfknpfl6vu0npfknpfknpfknpfknpfl6vu0npfknpfknpfknpfl6vu0npfknpfknpfknpfknpfknpfknpfl6vu0npfl6vu31d9BmAAAAOnRSTlMACfAF2zYOC/v4s6WVW0GeFOrXtXx4K/PhvpqPjk9JIPXWyLyUg3wuKALSzJBsajsa1MG6qm1iVEMq6O2XwgAAAdhJREFUOMt1k9liqkAQRAcExBgUxS3uJhr3JfvN4f//69IsGRGsl6aasqumcdQV7FVgmZhWsLJVCYyThYZ1NG4FkwF5DCb5AUNpmk1v4yhn4zVNocOrMc6TvO/qjtEVzZOT8YoI6n5uql8XSSVlYtEtRO+KURpSCwqSSew5iCxUGSKjgWQ7QSvL8Dtq12rt0W96gBYco2rBV5r4MUzxWI0bR7CiVYNpJIKX8A8vlTiACbbqQFPFkAkPjWq18SBT4lYTOioAL2a9qP+aaF+jx548eBBIjHXcHkUTVIpoykjqWoKYkCy3HYaNTNEIw3Z8GugrYBt3a2FYzRTVMKxJ3YIrM/y7Ch9a6hn+lbm8ST3DXo1hVZb0ILUDSzUF695pxeBHVVqZTXFjG+gbSmyCO1tfJvueuWCXfjm/n76pw4dK0DtEX//t0EvYCp6lxkOmqojLPOtLEssoKpoyQv+XxgWB7cI5I9/g3l7Vyh4+Nf2ARd5H1mleNJ31oV7w+LpueICnNIwFvG9v78Z8rekS+rOM6B9ZfsZ+9EiNjalv8npeeg2nLnzG1pcB7AxVxInkUzo7aGUhCitgWHHeYW6rcoyBYA/uRN3DkhjfGb9j5ObOWTzRYnfOd/4D6GJZSo18hSIAAAAASUVORK5CYII="},"50a2":function(e,t,i){},5176:function(e,t,i){e.exports=i("51b6")},"51b6":function(e,t,i){i("a3c3"),e.exports=i("584a").Object.assign},7768:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pages"},[i("ul",{staticClass:"nav_tab"},[i("li",{class:{"is-actived":"RelateHasd"===e.currentView},on:{click:function(t){return e.changeHouseMode("RelateHasd")}}},[i("span",[e._v("有关联房产")])]),i("li",{class:{"is-actived":"RelateNone"===e.currentView},on:{click:function(t){return e.changeHouseMode("RelateNone")}}},[i("span",[e._v("无关联房产")])])]),i("div",{staticClass:"porject_lett"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.None,expression:"None"}],staticClass:"area-modes"},[i("relate-hasd",{ref:"trip"})],1)])])},s=[],l=(i("7f7f"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasData?i("div",{staticClass:"relateHasd"},[e.flag?i("div",{staticClass:"weui-cells mar_top0"},[i("div",{staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getRoom}},[e._m(0),i("div",{staticClass:"weui-cell__bd"},[i("p",{class:{head_color:e.notHead}},[e._v(e._s(e.houseTitle))])]),i("div",{staticClass:"weui-cell__ft ft_color"},[e._v(e._s(!0===e.notHead?"去关联":"更换"))])])]):e._e(),i("div",{staticClass:"weui-cells mar_top10"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.lands,expression:"!lands"}],staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getProject}},[e._m(1),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.cityVal,expression:"cityVal"}],staticClass:"weui-input",attrs:{id:"owner_city",name:"city",type:"text",placeholder:"请选择",readonly:"readonly"},domProps:{value:e.cityVal},on:{input:function(t){t.target.composing||(e.cityVal=t.target.value)}}})]),i("div",{staticClass:"weui-cell__ft"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.lands,expression:"!lands"}],staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getBuilding}},[e._m(2),i("div",{staticClass:"weui-cell__bd"},[i("p",{staticClass:"fontPro"},[e._v(e._s(e.proVal))])]),i("div",{staticClass:"weui-cell__ft"},[e.isCheck?i("span",{staticClass:"isCheck"},[e._v("请选择")]):e._e()])]),i("div",{staticClass:"weui-cell ly-cell"},[e._m(3),i("div",{staticClass:"weui-cell__bd weui-cell__primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"weui-input",attrs:{id:"usename",type:"text",required:"",name:"username",placeholder:"请输入"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),i("div",{staticClass:"weui-cell ly-cell"},[e._m(4),i("div",{staticClass:"weui-cell__bd weui-cell__primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"weui-input",attrs:{id:"isphone",type:"tel",placeholder:"请输入"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})])]),i("div",{staticClass:"weui-cell weui-cells_checkbox ly-cell"},[e._m(5),i("label",{staticClass:"flex1",attrs:{for:"s11"}},[i("div",{staticClass:"weui-cell__bd midle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"weui-check",attrs:{type:"radio",name:"radioType",id:"s11",value:"1"},domProps:{checked:e._q(e.val,"1")},on:{change:function(t){e.val="1"}}}),i("i",{staticClass:"weui-icon-checked"}),i("span",[e._v("咨询")])])]),i("label",{staticClass:"flex1",attrs:{for:"s12"}},[i("div",{staticClass:"weui-cell__bd midle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"weui-check",attrs:{type:"radio",name:"radioType",id:"s12",value:"2"},domProps:{checked:e._q(e.val,"2")},on:{change:function(t){e.val="2"}}}),i("i",{staticClass:"weui-icon-checked"}),i("span",[e._v("投诉")])])])]),i("div",{staticClass:"weui-cell ly-cell weui-cell_access",on:{click:e.getType}},[e._m(6),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.typeVal,expression:"typeVal"}],staticClass:"weui-input",attrs:{type:"text",name:"otherType",placeholder:"请选择",readonly:"readonly"},domProps:{value:e.typeVal},on:{input:function(t){t.target.composing||(e.typeVal=t.target.value)}}})]),i("div",{staticClass:"weui-cell__ft"})]),i("div",{staticClass:"weui-cell ly-cell"},[e._m(7),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"weui-input",attrs:{type:"text",name:"title",placeholder:"请输入"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),i("div",{staticClass:"weui-cell__ft"})]),i("div",{staticClass:"weui-cell ly-cell"},[e._m(8),i("div",{staticClass:"weui-cell__bd"},[i("com-textarea",{ref:"childText",on:{"edit-handler":e.onEditHandler}})],1)])]),i("com-upload",{ref:"childUp"}),i("div",{staticClass:"weui-btn-area"},[i("button",{staticClass:"weui-btn ly-btn_defalut",on:{click:e.getPlaint}},[e._v("确定")])]),i("transition",{attrs:{name:"slideRight",appear:""}},[i("router-view",{ref:"proChild",staticStyle:{"animation-duration":"0.5s"},attrs:{sendata:e.projectList},on:{getProData:e.getProVal}})],1)],1):e._e()}),n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell__hd header_img"},[a("img",{attrs:{src:i("4fc8")}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label",attrs:{for:"owner_city"}},[e._v("城市")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("项目")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label",attrs:{for:"usename"}},[e._v("联系人")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label",attrs:{for:"isphone"}},[e._v("联系电话")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("类型")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label",attrs:{for:"project"}},[e._v("类别")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label",attrs:{for:"project"}},[e._v("标题")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label ly-label"},[e._v("问题描述")])])}],o=i("5176"),c=i.n(o),r=i("d722"),u=i("4dac"),d=i("f037"),p=i("cda0"),h={data:function(){return{cityVal:"",cityData:[],proVal:"",proId:"",houseTitle:this.$store.state.roomId.roomName||"请选择",username:this.$store.state.userInfo.username||"",phone:this.$store.state.userInfo.phone||"",typeData:[],typeVal:"",lands:!0,title:"",isCheck:!0,projectList:[],hasData:!1,typeId:"",textVal:"",val:1,type:"",link:2,flag:!1,roomId:this.$store.state.roomId.roomGuid||"",notHead:!1}},created:function(){var e=this;this.type=this.$route.params.type,""!==this.proVal&&(this.isCheck=!1),this.roomId?this.init(this.type):Object(r["m"])().then(function(t){0===t.code?(t.result.length>0?(e.houseTitle=t.result[0].room_name,e.roomId=t.result[0].room_guid):(e.notHead=!0,e.houseTitle="您还未有房屋关联"),e.init(e.type)):e.$weui.alert(t.msg)})},methods:{init:function(e){var t=this;this.$weui.loading();"complaint"===e?Object(r["u"])().then(function(e){0===e.code?(t.cityData=e.result[0].children,t.getTypeApic()):t.$weui.alert(e.msg)}):this.getTypeApi()},getRoom:function(){!0===this.notHead?this.$router.push({name:"houseReletion",params:{type:this.type}}):this.$router.push({name:"comHouse",query:{type:this.type,owId:2}})},getTypeApi:function(){var e=this;Object(r["P"])().then(function(t){e.$weui.loading().hide(),0===t.code?(e.typeData=t.result,e.hasData=!0,e.flag=!0):e.$weui.alert(t.msg)})},getTypeApic:function(){var e=this;Object(r["r"])().then(function(t){e.$weui.loading().hide(),0===t.code?(e.typeData=t.result,e.hasData=!0,e.flag=!0):e.$weui.alert(t.msg)})},getProject:function(e){var t=this;this.$weui.picker(this.cityData,{depth:1,id:"cityPicker",onConfirm:function(e){console.log(e[0]),t.projectList=e[0].children,t.cityVal=e[0].label,t.proVal=""}})},getBuilding:function(){0===this.projectList.length?this.$weui.alert("请选择城市"):this.$router.push({name:"ChildList"})},getProVal:function(e){this.proVal=e.label,this.isCheck=!1,this.proId=e.value,this.$router.go(-1)},getType:function(){var e=this;this.$weui.picker(this.typeData,{depth:1,id:"typePicker",onConfirm:function(t){console.log(t[0]),e.typeVal=t[0].label,e.typeId=t[0].value}})},onEditHandler:function(e){this.textVal=e,console.log(e)},getPlaint:function(){var e=this,t="",i="",a="",s={},l=1;!0===this.lands?(l=1,t={room_guid:this.roomId}):(l=0,t=0!==this.projectList.length?{project_guid:this.proId}:{project_guid:""}),i={name:this.username,telephone:this.phone,type:this.val,complaint_type_id:this.typeId,title:this.title,content:this.textVal,is_relation_room:l,photos:this.$refs.childUp.Photos},a={relation_guid:this.$store.state.relationId,room_guid:this.roomId};var n=this.$weui.loading();"complaint"===this.type?(c()(s,t,i),Object(r["b"])(s).then(function(t){console.log(t),n.hide(),0===t.code?(e.$store.commit("setReFresh",1),e.$router.push({name:"HouseRepair",query:{type:"complaint"}})):e.$weui.alert(t.msg)})):"proplaint"===this.type&&(c()(s,i,a),Object(r["c"])(s).then(function(t){console.log(t),n.hide(),0===t.code?(e.$store.commit("setReFresh",1),e.$router.push({name:"HouseRepair",query:{type:"proplaint"}})):e.$weui.alert(t.msg)}))}},components:{ComTextarea:u["a"],ComUpload:d["a"],ProjectList:p["default"]}},f=h,v=(i("ed77"),i("2877")),m=Object(v["a"])(f,l,n,!1,null,"812cafe6",null),_=m.exports,w={data:function(){return{currentView:"RelateHasd",None:!0,hasd:"",type:""}},created:function(){this.type=this.$route.params.type,"complaint"===this.type?"RelateHasd"===this.currentView?("ChildList"===this.$route.name&&(console.log("执行了"),this.$router.go(-2)),this.hasd=!0):this.hasd=!1:this.hasd=!0},mounted:function(){this.$refs.trip.lands=this.hasd,this.$refs.trip.landsw=this.hasd},components:{RelateHasd:_},methods:{changeHouseMode:function(e){var t=this;this.currentView=e,"complaint"===this.type?"RelateHasd"===this.currentView?(this.hasd=!0,this.$refs.trip.lands=!0,this.$refs.trip.flag=!0):(this.hasd=!1,this.$refs.trip.lands=!1,this.$refs.trip.flag=!1):"RelateHasd"===this.currentView?this.$refs.trip.flag=!0:this.$refs.trip.flag=!1,this.None=!1;var i=this.$weui.loading();setTimeout(function(){i.hide(function(){t.None=!0},200)})}}},g=w,C=Object(v["a"])(g,a,s,!1,null,null,null);t["default"]=C.exports},"7baf":function(e,t,i){},"7f7f":function(e,t,i){var a=i("86cc").f,s=Function.prototype,l=/^\s*function ([^ (]*)/,n="name";n in s||i("9e1e")&&a(s,n,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(e){return""}}})},9306:function(e,t,i){"use strict";var a=i("c3a1"),s=i("9aa9"),l=i("355d"),n=i("241e"),o=i("335c"),c=Object.assign;e.exports=!c||i("294c")(function(){var e={},t={},i=Symbol(),a="abcdefghijklmnopqrst";return e[i]=7,a.split("").forEach(function(e){t[e]=e}),7!=c({},e)[i]||Object.keys(c({},t)).join("")!=a})?function(e,t){var i=n(e),c=arguments.length,r=1,u=s.f,d=l.f;while(c>r){var p,h=o(arguments[r++]),f=u?a(h).concat(u(h)):a(h),v=f.length,m=0;while(v>m)d.call(h,p=f[m++])&&(i[p]=h[p])}return i}:c},"9aa9":function(e,t){t.f=Object.getOwnPropertySymbols},a3c3:function(e,t,i){var a=i("63b6");a(a.S+a.F,"Object",{assign:i("9306")})},b4a6:function(e,t,i){"use strict";var a=i("50a2"),s=i.n(a);s.a},c280:function(e,t,i){},cda0:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{CLASS:"comPosition"}},[i("div",{staticClass:"weui-cells flowy"},e._l(e.ProjectData,function(t,a){return i("div",{key:a,staticClass:"weui-cell weui-cell_access",on:{click:function(i){return e.checkProject(t)}}},[i("p",[e._v(e._s(t.label))])])}),0)])},s=[],l={props:["sendata"],data:function(){return{ProjectData:[]}},created:function(){this.ProjectData=this.sendata,console.log(this.sendata),0===this.ProjectData.length&&this.$router.go(-2)},methods:{checkProject:function(e){this.$emit("getProData",e)}}},n=l,o=(i("202f"),i("2877")),c=Object(o["a"])(n,a,s,!1,null,"04e47734",null);t["default"]=c.exports},ed77:function(e,t,i){"use strict";var a=i("7baf"),s=i.n(a);s.a},f037:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cells weui-cells_form mar_bott mar_top0 ",attrs:{id:"uploader"}},[i("div",{staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui-uploader"},[i("div",{staticClass:"weui-uploader__hd"},[i("p",{staticClass:"weui-uploader__title titleImg"},[e._v("上传照片 "),e.isCount?i("span",{staticClass:"countImg"},[e._v("(最多5张)")]):i("span",{staticClass:"countImg"},[e._v("(非必选  最多8张)")])])]),i("div",{staticClass:"weui-uploader__bd"},[i("ul",{staticClass:"weui-uploader__files",attrs:{id:"uploaderCustomFiles"},on:{click:function(t){return e.handelGallery(t)}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.ishidden,expression:"ishidden"}],staticClass:"weui-uploader__input-box uploadImg"},[i("input",{staticClass:"weui-uploader__input",attrs:{id:"uploaderCustomInput",name:"img[]",type:"file",accept:"image/*",multiple:""}})])])])])])])},s=[],l=i("4455"),n=l["a"],o=(i("f368"),i("2877")),c=Object(o["a"])(n,a,s,!1,null,"7e27ba3f",null);t["a"]=c.exports},f368:function(e,t,i){"use strict";var a=i("c280"),s=i.n(a);s.a},f53b:function(e,t,i){}}]);